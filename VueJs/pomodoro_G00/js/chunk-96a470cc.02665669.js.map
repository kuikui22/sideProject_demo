{"version":3,"sources":["webpack:///./src/pages/taskList.vue?a843","webpack:///./src/pages/taskList.vue?71d1","webpack:///src/pages/taskList.vue","webpack:///./src/pages/taskList.vue?53fb","webpack:///./src/pages/taskList.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","title","month","_l","item","key","class","dateActiveClass","date","week","id","moveClass","finish","on","$event","stopPropagation","showDelete","directives","name","rawName","value","expression","doTask","delTask","staticRenderFns","component","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-96a470cc.02665669.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskList.vue?vue&type=style&index=0&id=338b4ead&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskList.vue?vue&type=style&index=0&id=338b4ead&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-100\",attrs:{\"id\":\"main\"}},[_c('section',[_c('h3',[_vm._v(_vm._s(_vm.title))]),_c('span',[_vm._v(_vm._s(_vm.month))])]),_c('div',{staticClass:\"main-nav\"},[_c('b-nav',{attrs:{\"fill\":\"\",\"align\":\"center\"}},_vm._l((_vm.weekList),function(item,key){return _c('b-nav-item',{key:key,class:_vm.dateActiveClass(item.date)},[_c('span',{staticClass:\"title-week\"},[_vm._v(_vm._s(item.week))]),_c('span',{staticClass:\"title-date\"},[_vm._v(_vm._s(item.date))])])}),1)],1),_c('transition-group',{staticClass:\"content\",attrs:{\"tag\":\"div\",\"name\":\"task-list\"}},_vm._l((_vm.newList),function(item,key){return _c('div',{key:item.id,staticClass:\"card task-list-item\",class:_vm.moveClass(key)},[_c('div',{staticClass:\"card-body\",class:{'finish':item.finish},on:{\"click\":function($event){$event.stopPropagation();return _vm.showDelete(key)}}},[_c('span',{staticClass:\"finish-check\"},[_c('b-icon-check',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.finish),expression:\"item.finish\"}]})],1),_c('span',{staticClass:\"task-name\"},[_vm._v(_vm._s(item.name))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!item.finish),expression:\"!item.finish\"}],staticClass:\"arrow-btn\",on:{\"click\":function($event){return _vm.doTask(item.id)}}},[_c('b-icon-play-fill')],1),_c('span',{staticClass:\"task__btn-del\",on:{\"click\":function($event){return _vm.delTask(key)}}},[_c('b-icon-trash')],1)])])}),0),_c('router-link',{staticClass:\"btn btn-success add-btn\",attrs:{\"tag\":\"button\",\"to\":\"createTask\"}},[_c('b-icon-plus')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"main\" class=\"w-100\">\r\n        <section>\r\n            <h3>{{ title }}</h3>\r\n            <span>{{ month }}</span>\r\n        </section>\r\n        <div class=\"main-nav\">\r\n            <b-nav fill align=\"center\">                \r\n                <b-nav-item v-for=\"(item, key) in weekList\" :key=\"key\" :class=\"dateActiveClass(item.date)\">\r\n                    <span class=\"title-week\">{{ item.week }}</span>\r\n                    <span class=\"title-date\">{{ item.date }}</span>\r\n                </b-nav-item>\r\n            </b-nav>\r\n        </div>\r\n        <transition-group tag=\"div\" class=\"content\" name=\"task-list\">\r\n            <div class=\"card task-list-item\" v-for=\"(item, key) in newList\" :key=\"item.id\" :class=\"moveClass(key)\">\r\n                <div class=\"card-body\" :class=\"{'finish':item.finish}\" @click.stop=\"showDelete(key)\">\r\n                    <span class=\"finish-check\">\r\n                        <b-icon-check v-show=\"item.finish\"></b-icon-check>\r\n                    </span>\r\n                    <span class=\"task-name\">{{ item.name }}</span>\r\n                    <span class=\"arrow-btn\" v-show=\"!item.finish\" @click=\"doTask(item.id)\">\r\n                        <b-icon-play-fill></b-icon-play-fill>\r\n                    </span>\r\n                    <span class=\"task__btn-del\" @click=\"delTask(key)\">\r\n                        <b-icon-trash></b-icon-trash>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </transition-group>\r\n        <router-link tag=\"button\" to=\"createTask\" class=\"btn btn-success add-btn\">\r\n            <b-icon-plus></b-icon-plus>\r\n        </router-link>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getMonth_En, getDay_En, getWeekDate } from '@/services/extraFun.js';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            title: 'Task',\r\n            month: '',\r\n            weekList: [],\r\n            movingTask: null,\r\n            showTask: null        \r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['taskList']),\r\n        newList() {\r\n            if(this.showTask === null) {\r\n                return this.taskList;\r\n            }\r\n\r\n            return this.taskList.filter(task => {\r\n\r\n                if( task.date === this.weekList[this.showTask].dateParse) {\r\n                    return task;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    methods: {\r\n        getMonth() {\r\n            this.month = getMonth_En(new Date().getMonth())\r\n        },\r\n\r\n        /**\r\n         * 這星期的日期\r\n         */\r\n        getWeeks() {\r\n\r\n            this.weekList = getWeekDate(new Date()).map(date_int => {\r\n                let date = new Date(date_int);\r\n\r\n                return {\r\n                    week: getDay_En(date.getDay()),\r\n                    date: date.getDate(),\r\n                    dateParse: date_int\r\n                };\r\n            });\r\n        },\r\n\r\n        /**\r\n         * 標記今天的日期\r\n         * @param {number} date 比對的日期\r\n         * @returns {object} class\r\n         */\r\n        dateActiveClass(date) {\r\n            let today = new Date().getDate();\r\n            let active =  (date === today) ? true : false;\r\n            \r\n            return {\r\n                'active': active\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @todo 這裡先不實裝此功能, 全部顯示與搜尋顯示需規劃UX\r\n         * 依照點選的日期顯示任務\r\n         * @param {number} date_id 點選的tag標籤\r\n         */\r\n        searchTask(date_id) {            \r\n            this.showTask = (date_id === this.showTask) ? null : date_id;\r\n        },\r\n\r\n        /**\r\n         * 任務塊移動\r\n         * @param {number} id 任務順序(key)\r\n         * @returns {object} class\r\n         */\r\n        moveClass(id) {\r\n            let useClass = (this.movingTask === id) ? true : false;\r\n\r\n            return {\r\n                'task-moving': useClass\r\n            };\r\n        },\r\n\r\n        /**\r\n         * 顯示刪除按鈕\r\n         * @param {number} id 任務順序(key)\r\n         * @todo 刪除動畫需修改\r\n         */\r\n        showDelete(id) {            \r\n            this.movingTask = (this.movingTask === id) ? null : id;\r\n        },\r\n\r\n        /**\r\n         * 刪除任務\r\n         * @param {number} id 任務順序(key)\r\n         */\r\n        delTask(id) {\r\n            if(isNaN(id))\r\n                return; \r\n\r\n            this.$store.commit('DEL_TASK', id);\r\n        },\r\n\r\n        /**\r\n         * 改變任務完成狀態\r\n         * @param {number} id 任務順序(key)\r\n         */\r\n        finishTask(id) {\r\n            if(isNaN(id))\r\n                return;\r\n\r\n            this.$store.commit('CHANGE_STATUS_TASK', id);\r\n        },\r\n        doTask(id) {\r\n            this.$store.commit('DO_TASK', id);\r\n            this.$router.push('/setTime');\r\n        }\r\n    },\r\n    created() {\r\n        this.getMonth();\r\n        this.getWeeks();\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import '@/assets/stylesheets/page/taskList.scss';\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskList.vue?vue&type=template&id=338b4ead&scoped=true&\"\nimport script from \"./taskList.vue?vue&type=script&lang=js&\"\nexport * from \"./taskList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taskList.vue?vue&type=style&index=0&id=338b4ead&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"338b4ead\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}