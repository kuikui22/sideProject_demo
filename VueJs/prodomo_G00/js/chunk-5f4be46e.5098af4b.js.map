{"version":3,"sources":["webpack:///./src/pages/taskChart.vue?04bb","webpack:///./src/pages/taskChart.vue?2cc6","webpack:///src/pages/taskChart.vue","webpack:///./src/pages/taskChart.vue?7639","webpack:///./src/pages/taskChart.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","titleContent","todayTitle","completedTodayList","length","todayTaskList","weeklyTitle","completedTaskList","taskList","chartTitle","class","activeTagClass","TAG","TODAY","on","getChartToday","WEEK","getChartWeek","chartData","chartLabelColor","staticRenderFns","component","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-5f4be46e.5098af4b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskChart.vue?vue&type=style&index=0&id=47e2073c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskChart.vue?vue&type=style&index=0&id=47e2073c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"}},[_c('article',{staticClass:\"mt-2\"},[_c('p',[_vm._v(_vm._s(_vm.titleContent))])]),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{staticClass:\"block\",attrs:{\"cols\":\"6\"}},[_c('small',[_vm._v(_vm._s(_vm.todayTitle))]),_c('p',[_c('span',{staticClass:\"finish-font\"},[_vm._v(_vm._s(_vm.completedTodayList.length))]),_vm._v(\" / \"+_vm._s(_vm.todayTaskList.length)+\" \")])]),_c('b-col',{staticClass:\"block\",attrs:{\"cols\":\"6\"}},[_c('small',[_vm._v(_vm._s(_vm.weeklyTitle))]),_c('p',[_c('span',{staticClass:\"finish-font\"},[_vm._v(_vm._s(_vm.completedTaskList.length))]),_vm._v(\" / \"+_vm._s(_vm.taskList.length)+\" \")])])],1),_c('section',{staticClass:\"mt-2 pb-3\"},[_c('h5',[_vm._v(_vm._s(_vm.chartTitle))]),_c('div',{staticClass:\"chart-tag\"},[_c('span',{staticClass:\"mr-2\",class:_vm.activeTagClass(_vm.TAG.TODAY),on:{\"click\":_vm.getChartToday}},[_vm._v(\"Today\")]),_c('span',{class:_vm.activeTagClass(_vm.TAG.WEEK),on:{\"click\":_vm.getChartWeek}},[_vm._v(\"Weekly\")])]),_c('VeHistogram',{attrs:{\"data\":_vm.chartData,\"tooltip-visible\":false,\"legend-visible\":false,\"textStyle\":_vm.chartLabelColor}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"main\">\r\n        <article class=\"mt-2\">\r\n            <p>{{ titleContent }}</p>\r\n        </article>\r\n        <b-row class=\"mt-2\">\r\n            <b-col class=\"block\" cols=\"6\">\r\n                <small>{{ todayTitle }}</small>\r\n                <p>\r\n                    <span class=\"finish-font\">{{ completedTodayList.length }}</span> / {{ todayTaskList.length }}\r\n                </p>\r\n            </b-col>\r\n            <b-col class=\"block\" cols=\"6\">\r\n                <small>{{ weeklyTitle }}</small>\r\n                <p>\r\n                    <span class=\"finish-font\">{{ completedTaskList.length }}</span> / {{ taskList.length }}\r\n                </p>\r\n            </b-col>\r\n        </b-row>\r\n        <section class=\"mt-2 pb-3\">\r\n            <h5>{{ chartTitle }}</h5>\r\n            <div class=\"chart-tag\">\r\n                <span class=\"mr-2\" :class=\"activeTagClass(TAG.TODAY)\" @click=\"getChartToday\">Today</span>\r\n                <span :class=\"activeTagClass(TAG.WEEK)\" @click=\"getChartWeek\">Weekly</span>\r\n            </div>\r\n            <VeHistogram \r\n                :data=\"chartData\"\r\n                :tooltip-visible=\"false\"\r\n                :legend-visible=\"false\"\r\n                :textStyle=\"chartLabelColor\">\r\n            </VeHistogram>\r\n        </section>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { CHART_TAG } from '@/services/const.js';\r\nimport { mapGetters } from 'vuex';\r\nimport { parseDate, getWeekDate } from '@/services/extraFun.js';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            TAG: CHART_TAG,\r\n            titleContent: 'You completed your goal 4 days a row !',\r\n            todayTitle: \"Today's Task\",\r\n            weeklyTitle: 'Weekly Task',\r\n            chartTag: CHART_TAG.WEEK,\r\n            chartTitle: 'Completed Task',         \r\n            chartData: {},\r\n            chartLabelColor: {\r\n                color: '#b7b7b7'\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['taskList']),\r\n        todayTaskList() {\r\n            let date = parseDate(new Date());\r\n            \r\n            return this.taskList.filter(task => date === task.date);\r\n        },\r\n        completedTaskList() {\r\n            return this.taskList.filter(task => task.finish === true);\r\n        },\r\n        completedTodayList() {\r\n            return this.todayTaskList.filter(task => task.finish === true);\r\n        }\r\n    },\r\n    methods: {\r\n        getChartWeek() {\r\n            this.chartTag = this.TAG.WEEK;\r\n            let weekList = getWeekDate(new Date());\r\n            let dataGroup = weekList.map(date => {\r\n                let newDate = this.makeChartData(date);\r\n\r\n                return {\r\n                    'dateInt': date,\r\n                    'date': newDate,\r\n                    'task': 0\r\n                };\r\n            });\r\n\r\n            //計算同日期下完成的任務數量\r\n            this.completedTaskList.forEach(task => {\r\n                dataGroup.forEach(data => {\r\n                    if(data.dateInt === task.date) {\r\n                        data['task'] += 1;\r\n                    }\r\n                });\r\n            });\r\n\r\n            this.chartData = {\r\n                columns: ['date', 'task'],\r\n                rows: dataGroup\r\n            };\r\n        },\r\n        getChartToday() {\r\n            this.chartTag = this.TAG.TODAY;\r\n            let date = (this.completedTodayList > 0) ? this.completedTodayList[0].date : new Date();\r\n            let newDate = this.makeChartData(date);\r\n\r\n            this.chartData = {\r\n                columns: ['date', 'task'],\r\n                rows: [{\r\n                    'date': newDate,\r\n                    'task': this.completedTodayList.length\r\n                }]\r\n            };\r\n        },\r\n        /**\r\n         * 轉換時間戳為字串時間\r\n         * @param {number} date 數字時間戳\r\n         * @returns {string} Month / Date 格式時間\r\n         */\r\n        makeChartData(date) {\r\n            let newDate = new Date(date);\r\n\r\n            return (newDate.getMonth() + 1) + ' / ' + newDate.getDate();\r\n        },\r\n\r\n        /**\r\n         * 作用中的圖表 tag class\r\n         * @param {CHART_TAG | number} tag_id 圖表tag Enum\r\n         * @returns {object} class\r\n         */\r\n        activeTagClass(tag_id) {\r\n            return {\r\n                'active': (this.chartTag === tag_id)\r\n            };\r\n        }        \r\n    },\r\n    created() {\r\n        this.titleContent = `You completed your goal ${this.completedTaskList.length} tasks !`,\r\n        this.getChartWeek();\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import '@/assets/stylesheets/page/taskChart.scss';\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./taskChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskChart.vue?vue&type=template&id=47e2073c&scoped=true&\"\nimport script from \"./taskChart.vue?vue&type=script&lang=js&\"\nexport * from \"./taskChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taskChart.vue?vue&type=style&index=0&id=47e2073c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47e2073c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}